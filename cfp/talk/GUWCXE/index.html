



<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from cfp.2021.djangocon.eu/porto/talk/GUWCXE/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Feb 2022 16:32:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Implementing a Cross-DB JSONField ::  DjangoCon Europe 2020 :: pretalx</title>
    <meta name="title" content="Implementing a Cross-DB JSONField  - DjangoCon Europe 2020 pretalx">
    <meta name="description" content="Having structured data is great, but sometimes you just want to store *some* data without caring much about the structure. This is especially true when you&#39;re prototyping something: you&#39;re still unsure how your database will look like, but you know you&#39;re going to store something in it. Well, enter `JSONField`!

`JSONField`, from the Django docs:

&gt; &quot;A field for storing JSON encoded data. In Python the data is represented in its Python native format:
&gt; dictionaries, lists, strings, numbers, booleans, and `None`.&quot;

Before 3.1, official support for `JSONField` only exists through the `django.contrib.postgres` module, which means it can only be used on PostgreSQL. To use `JSONField` on other database backends, one needs to use third-party packages such as [jsonfield] (1k+ stars), [django-mysql], and [oracle-json-field]. A ticket for cross-DB `JSONField` ([#12990]) was made 10 years ago. The abundance of third-party packages for `JSONField` suggests that it&#39;s an in-demand feature.

The existing [PostgreSQL] `JSONField` uses the built-in `jsonb` data type. [MariaDB] and [MySQL] have a `JSON` data type along with JSON functions. [SQLite] can store JSON data as `TEXT` and use the JSON1 extension which includes JSON functions. [Oracle Database] also has JSON functions and can store JSON data with the `IS JSON` constraint.

So, a cross-DB `JSONField` is feasible, but it can be a bit tricky to implement because each backend deals with JSON data differently. Besides storing and loading Python objects into/from JSON, `JSONField` also supports some custom lookups and transforms that can be used to [query JSON data]. This talk will cover how saving JSON data and the custom queries are implemented in the cross-DB `JSONField`.

[jsonfield]: https://github.com/dmkoch/django-jsonfield
[django-mysql]: https://github.com/adamchainz/django-mysql
[oracle-json-field]: https://github.com/Exscientia/oracle-json-field
[#12990]: https://code.djangoproject.com/ticket/12990
[PostgreSQL]: https://www.postgresql.org/docs/9.5/datatype-json.html
[MariaDB]: https://mariadb.com/kb/en/json-data-type
[MySQL]: https://dev.mysql.com/doc/refman/5.7/en/json.html
[SQLite]: https://www.sqlite.org/json1.html
[Oracle Database]: https://docs.oracle.com/database/121/ADXDB/json.htm
[query JSON data]: https://docs.djangoproject.com/en/3.0/ref/contrib/postgres/fields/#querying-jsonfield

Video: https://www.youtube.com/watch?v=o9Zb1RmS8vk&amp;ab_channel=DjangoConEurope">
    <meta name="application-name" content="pretalx">
    <meta name="generator" content="pretalx">
    <meta name="keywords" content="DjangoCon Europe 2020, porto, 2020, schedule, talks, cfp, call for papers, conference, submissions, organizer">
    <meta name="referrer" content="origin-when-crossorigin">
    <meta name="robots" content="index, follow">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#120E3D">
    <meta name="HandheldFriendly" content="True"/>
    <meta property="thumbnail" content="../../../cfp-media/porto/img/logo.1268edf3f259_vENtQ5y.png">
    <meta property="og:image" content="../../../cfp-media/porto/img/logo.1268edf3f259_vENtQ5y.png">
    <meta property="og:title" content="Implementing a Cross-DB JSONField DjangoCon Europe 2020">
    <meta property="og:description" content="Having structured data is great, but sometimes you just want to store *some* data without caring much about the structure. This is especially true when you&#39;re prototyping something: you&#39;re still unsure how your database will look like, but you know you&#39;re going to store something in it. Well, enter `JSONField`!

`JSONField`, from the Django docs:

&gt; &quot;A field for storing JSON encoded data. In Python the data is represented in its Python native format:
&gt; dictionaries, lists, strings, numbers, booleans, and `None`.&quot;

Before 3.1, official support for `JSONField` only exists through the `django.contrib.postgres` module, which means it can only be used on PostgreSQL. To use `JSONField` on other database backends, one needs to use third-party packages such as [jsonfield] (1k+ stars), [django-mysql], and [oracle-json-field]. A ticket for cross-DB `JSONField` ([#12990]) was made 10 years ago. The abundance of third-party packages for `JSONField` suggests that it&#39;s an in-demand feature.

The existing [PostgreSQL] `JSONField` uses the built-in `jsonb` data type. [MariaDB] and [MySQL] have a `JSON` data type along with JSON functions. [SQLite] can store JSON data as `TEXT` and use the JSON1 extension which includes JSON functions. [Oracle Database] also has JSON functions and can store JSON data with the `IS JSON` constraint.

So, a cross-DB `JSONField` is feasible, but it can be a bit tricky to implement because each backend deals with JSON data differently. Besides storing and loading Python objects into/from JSON, `JSONField` also supports some custom lookups and transforms that can be used to [query JSON data]. This talk will cover how saving JSON data and the custom queries are implemented in the cross-DB `JSONField`.

[jsonfield]: https://github.com/dmkoch/django-jsonfield
[django-mysql]: https://github.com/adamchainz/django-mysql
[oracle-json-field]: https://github.com/Exscientia/oracle-json-field
[#12990]: https://code.djangoproject.com/ticket/12990
[PostgreSQL]: https://www.postgresql.org/docs/9.5/datatype-json.html
[MariaDB]: https://mariadb.com/kb/en/json-data-type
[MySQL]: https://dev.mysql.com/doc/refman/5.7/en/json.html
[SQLite]: https://www.sqlite.org/json1.html
[Oracle Database]: https://docs.oracle.com/database/121/ADXDB/json.htm
[query JSON data]: https://docs.djangoproject.com/en/3.0/ref/contrib/postgres/fields/#querying-jsonfield

Video: https://www.youtube.com/watch?v=o9Zb1RmS8vk&amp;ab_channel=DjangoConEurope">
    <meta property="og:url" content="index.html">
    <meta property="twitter:card" content="summary">

    
    <link rel="icon" type="image/png" sizes="32x32" href="../../../cfp-static/common/img/favicon-32x32.816e12963927.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../cfp-static/common/img/favicon-16x16.b1e178982893.png">
    

    <link rel="stylesheet" type="text/css" href="../../../cfp-static/common/scss/uncompressed.ec8d16cc3696.css" />
    
        <link rel="stylesheet" type="text/css" href="../../../cfp-static/vendored/fullcalendar/fullcalendar.min.ba055a2cd2b3.css"/>
        <link rel="stylesheet" type="text/css" href="../../../cfp-media/djangocon-2020/cfp.ff24a3f080cf5b33.css"/>
        <link rel="stylesheet" type="text/css" href="../../../cfp-media/djangocon-2020/agenda.db276abdb6c8be4d.css"/>
    
    <link rel="stylesheet" type="text/css" href="../../../cfp-media/porto/css/cfp_mYuJO4r.css"/>
    <script type="text/javascript" src="../../../cfp-static/CACHE/js/output.5b270a5bf623.js" defer></script>
    
    
    <link rel="alternate" type="application/json" title="DjangoCon Europe 2020 API" href="https://cfp.2021.djangocon.eu/api/events/porto/talks/GUWCXE" />

    
    

</head>
<body>
    <div id="top-bg" class="header bg-primary">
    
        <img src="../../../cfp-media/porto/img/background_OluCp1S.jpg" id="header-image">
    
    </div>
    
    <div class="container" id="main-container">
        <header>
            <h1>
                <a href="../../schedule/index.html">
                    
                    <img src="../../../cfp-media/porto/img/logo.1268edf3f259_vENtQ5y.png" id="event-logo" alt="The event's logo">
                    
                </a>
            </h1>
            <div class="d-flex" id="header-row">
            
            
                <a href="../../login/index.html">login</a>
            
            </div>
        </header>
        <div class="card" id="main-card">
            <main>
                

                
    
    
<article>
    <h3 class="talk-title">
        <div class="heading-with-buttons">
        Implementing a Cross-DB JSONField
        <div class="buttons" id="talk-buttons">
            
            <a class="btn btn-outline-primary" href="../porto-GUWCXE.ics">
                <i class="fa fa-calendar"></i> .ical
            </a>
            
            
                <a href="feedback/index.html"
                        class="btn btn-success">
                    <i class="fa fa-comments"></i> Feedback
                </a>
            
            
        </div>
        </div>
        <small>
            
                2020-09-19, 10:35â€“11:15, Virtual
            
            
        </small>
    </h3>
    <div class="talk row">
        <div class="talk-content col-lg-8 col-md-6 col-xs-12">
            
            
            <section class="abstract">
                <p>Tired of dealing with structured data? Want to avoid database migrations? Try <code>JSONField</code>!</p>
<p>This talk explains the implementation of a cross-DB <code>JSONField</code>, a new feature released in Django 3.1, that can be used on all database backends supported by Django.</p>
            </section>
            
            <hr />
            
            <section class="description">
                <p>Having structured data is great, but sometimes you just want to store <em>some</em> data without caring much about the structure. This is especially true when you're prototyping something: you're still unsure how your database will look like, but you know you're going to store something in it. Well, enter <code>JSONField</code>!</p>
<p><code>JSONField</code>, from the Django docs:</p>
<blockquote>
<p>"A field for storing JSON encoded data. In Python the data is represented in its Python native format:<br>
dictionaries, lists, strings, numbers, booleans, and <code>None</code>."</p>
</blockquote>
<p>Before 3.1, official support for <code>JSONField</code> only exists through the <code>django.contrib.postgres</code> module, which means it can only be used on PostgreSQL. To use <code>JSONField</code> on other database backends, one needs to use third-party packages such as <a href="https://github.com/dmkoch/django-jsonfield" rel="nofollow">jsonfield</a> (1k+ stars), <a href="https://github.com/adamchainz/django-mysql" rel="nofollow">django-mysql</a>, and <a href="https://github.com/Exscientia/oracle-json-field" rel="nofollow">oracle-json-field</a>. A ticket for cross-DB <code>JSONField</code> (<a href="https://code.djangoproject.com/ticket/12990" rel="nofollow">#12990</a>) was made 10 years ago. The abundance of third-party packages for <code>JSONField</code> suggests that it's an in-demand feature.</p>
<p>The existing <a href="https://www.postgresql.org/docs/9.5/datatype-json.html" rel="nofollow">PostgreSQL</a> <code>JSONField</code> uses the built-in <code>jsonb</code> data type. <a href="https://mariadb.com/kb/en/json-data-type" rel="nofollow">MariaDB</a> and <a href="https://dev.mysql.com/doc/refman/5.7/en/json.html" rel="nofollow">MySQL</a> have a <code>JSON</code> data type along with JSON functions. <a href="https://www.sqlite.org/json1.html" rel="nofollow">SQLite</a> can store JSON data as <code>TEXT</code> and use the JSON1 extension which includes JSON functions. <a href="https://docs.oracle.com/database/121/ADXDB/json.htm" rel="nofollow">Oracle Database</a> also has JSON functions and can store JSON data with the <code>IS JSON</code> constraint.</p>
<p>So, a cross-DB <code>JSONField</code> is feasible, but it can be a bit tricky to implement because each backend deals with JSON data differently. Besides storing and loading Python objects into/from JSON, <code>JSONField</code> also supports some custom lookups and transforms that can be used to <a href="https://docs.djangoproject.com/en/3.0/ref/contrib/postgres/fields/#querying-jsonfield" rel="nofollow">query JSON data</a>. This talk will cover how saving JSON data and the custom queries are implemented in the cross-DB <code>JSONField</code>.</p>
<p>Video: <a href="https://www.youtube.com/watch?v=o9Zb1RmS8vk&amp;ab_channel=DjangoConEurope" rel="nofollow">https://www.youtube.com/watch?v=o9Zb1RmS8vk&amp;ab_channel=DjangoConEurope</a></p>
            </section>
            
            </section>
            
        </div>
        <aside class="col-lg-4 col-md-6 col-xs-12">
            
            
            <div class="speakers">
                <div class="speaker-header">
                    
                        Speaker
                    
                </div>
                
                    <div class="speaker">
                        <a href="../../speaker/7ZHWE7/index.html">
                            <div class="name">
                                Sage M. Abdullah
                            </div>
                        </a>
                        <div class="info">
                            
                        </div>
                    </div>
                
            </div>
            
            
        </aside>
    </div>
</article>


            </main>
        </div>
        <footer>
            
            <a href="http://pretalx.com/" target="_blank" rel="noopener">
                <img src="../../../cfp-static/common/img/logo.c86a874657c9.svg" alt="The pretalx logo">
            </a>
            
                &middot;
                <a href="mailto:content@djangocon.eu">Contact us</a>
            
            
                &middot;
                <a href="https://2020.djangocon.eu/conduct/privacy_guide/" target="_blank" rel="noopener">Imprint</a>
            
            
        </footer>
    </div>
</body>

<!-- Mirrored from cfp.2021.djangocon.eu/porto/talk/GUWCXE/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Feb 2022 16:32:26 GMT -->
</html>
